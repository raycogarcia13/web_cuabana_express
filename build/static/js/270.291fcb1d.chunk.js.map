{"version":3,"file":"static/js/270.291fcb1d.chunk.js","mappings":"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","sources":["components/ClientManagement.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport clientService, { Client, CreateClientData, UpdateClientData, Recipient, CreateRecipientData } from '../services/clientService';\nimport './ClientManagement.css';\n\nconst ClientManagement: React.FC = () => {\n  const [clients, setClients] = useState<Client[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showAddClient, setShowAddClient] = useState(false);\n  const [editingClient, setEditingClient] = useState<Client | null>(null);\n  const [showRecipientsModal, setShowRecipientsModal] = useState(false);\n  const [selectedClient, setSelectedClient] = useState<Client | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterDepartment, setFilterDepartment] = useState<string>('all');\n\n  useEffect(() => {\n    loadClients();\n  }, []);\n\n  const loadClients = async () => {\n    try {\n      setIsLoading(true);\n      setError('');\n      const clientsData = await clientService.getAllClients();\n      setClients(clientsData);\n    } catch (error) {\n      console.error('Error cargando clientes:', error);\n      setError('Error cargando clientes. Verifica tu conexi√≥n.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const filteredClients = clients.filter(client => {\n    const matchesSearch = client.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         client.email.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesDepartment = filterDepartment === 'all' || client.department === filterDepartment;\n    return matchesSearch && matchesDepartment;\n  });\n\n  const handleAddClient = async (clientData: CreateClientData) => {\n    try {\n      setError('');\n      const newClient = await clientService.createClient(clientData);\n      setClients([...clients, newClient]);\n      setShowAddClient(false);\n    } catch (error: any) {\n      setError(error.message || 'Error creando cliente');\n    }\n  };\n\n  const handleEditClient = (client: Client) => {\n    setEditingClient(client);\n  };\n\n  const handleUpdateClient = async (updatedClient: any) => {\n    try {\n      setError('');\n      const { _id, ...updateData } = updatedClient;\n      if (!_id) {\n        setError('ID de cliente no encontrado');\n        return;\n      }\n      const updatedClientData = await clientService.updateClient(_id, updateData);\n      setClients(clients.map(client => client._id === _id ? updatedClientData : client));\n      setEditingClient(null);\n    } catch (error: any) {\n      setError(error.message || 'Error actualizando cliente');\n    }\n  };\n\n  const handleDeleteClient = async (clientId: string) => {\n    if (window.confirm('¬øEst√°s seguro de que quieres eliminar este cliente?')) {\n      try {\n        setError('');\n        await clientService.deleteClient(clientId);\n        setClients(clients.filter(client => client._id !== clientId));\n      } catch (error: any) {\n        setError(error.message || 'Error eliminando cliente');\n      }\n    }\n  };\n\n  const openRecipientsModal = async (client: Client) => {\n    try {\n      setSelectedClient(client);\n      setShowRecipientsModal(true);\n    } catch (error: any) {\n      setError(error.message || 'Error cargando destinatarios');\n    }\n  };\n\n  const handleAddRecipient = async (recipientData: CreateRecipientData) => {\n    if (!selectedClient) return;\n    \n    try {\n      setError('');\n      const updatedClient = await clientService.addRecipient(selectedClient._id, recipientData);\n      setClients(clients.map(c => c._id === selectedClient._id ? updatedClient : c));\n      setSelectedClient(updatedClient);\n    } catch (error: any) {\n      setError(error.message || 'Error agregando destinatario');\n    }\n  };\n\n  const handleRemoveRecipient = async (recipientId: string) => {\n    if (!selectedClient) return;\n    \n    try {\n      setError('');\n      const updatedClient = await clientService.removeRecipient(selectedClient._id, recipientId);\n      setClients(clients.map(c => c._id === selectedClient._id ? updatedClient : c));\n      setSelectedClient(updatedClient);\n    } catch (error: any) {\n      setError(error.message || 'Error removiendo destinatario');\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const getUniqueDepartments = () => {\n    const departments = clients.map(client => client.department);\n    return Array.from(new Set(departments)).sort();\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"client-management-container\">\n        <div className=\"loading-container\">\n          <div className=\"loading-spinner\"></div>\n          <p>Cargando clientes...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"client-management-container\">\n      <div className=\"client-management-header\">\n        <h2>Gesti√≥n de Clientes</h2>\n        <button \n          className=\"add-client-btn\"\n          onClick={() => setShowAddClient(true)}\n        >\n          <span className=\"btn-icon\">+</span>\n          Agregar Cliente\n        </button>\n      </div>\n\n      <div className=\"client-management-filters\">\n        <div className=\"search-container\">\n          <input\n            type=\"text\"\n            placeholder=\"Buscar clientes...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"search-input\"\n          />\n        </div>\n        <div className=\"filter-container\">\n          <select\n            value={filterDepartment}\n            onChange={(e) => setFilterDepartment(e.target.value)}\n            className=\"filter-select\"\n          >\n            <option value=\"all\">Todos los departamentos</option>\n            {getUniqueDepartments().map(dept => (\n              <option key={dept} value={dept}>{dept}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"error-message\">\n          <span className=\"error-icon\">‚ö†Ô∏è</span>\n          {error}\n        </div>\n      )}\n\n      <div className=\"clients-table-container\">\n        <table className=\"clients-table\">\n          <thead>\n            <tr>\n              <th>Cliente</th>\n              <th>Email</th>\n              <th>Tel√©fono</th>\n              <th>Departamento</th>\n              <th>Destinatarios</th>\n              <th>Fecha de Registro</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredClients.map(client => (\n              <tr key={client._id}>\n                <td className=\"client-info\">\n                  <div className=\"client-avatar\">\n                    {client.name.charAt(0)}\n                  </div>\n                  <div className=\"client-details\">\n                    <span className=\"client-name\">{client.name}</span>\n                    <span className=\"client-email\">{client.email}</span>\n                  </div>\n                </td>\n                <td className=\"client-email\">{client.email}</td>\n                <td className=\"client-phone\">{client.phone}</td>\n                <td className=\"client-department\">{client.department}</td>\n                <td className=\"recipients-count\">\n                  {client.recipients.length} destinatario{client.recipients.length !== 1 ? 's' : ''}\n                </td>\n                <td className=\"created-date\">\n                  {formatDate(client.createdAt)}\n                </td>\n                <td className=\"actions\">\n                  <button\n                    className=\"action-btn recipients\"\n                    onClick={() => openRecipientsModal(client)}\n                    title=\"Gestionar destinatarios\"\n                  >\n                    üë•\n                  </button>\n                  <button\n                    className=\"action-btn edit\"\n                    onClick={() => handleEditClient(client)}\n                    title=\"Editar cliente\"\n                  >\n                    ‚úèÔ∏è\n                  </button>\n                  <button\n                    className=\"action-btn delete\"\n                    onClick={() => handleDeleteClient(client._id)}\n                    title=\"Eliminar cliente\"\n                  >\n                    üóëÔ∏è\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {filteredClients.length === 0 && (\n        <div className=\"no-clients\">\n          <p>No se encontraron clientes que coincidan con los filtros.</p>\n        </div>\n      )}\n\n      {/* Modal para agregar/editar cliente */}\n      {(showAddClient || editingClient) && (\n        <ClientModal\n          client={editingClient}\n          onSave={editingClient ? handleUpdateClient : handleAddClient}\n          onCancel={() => {\n            setShowAddClient(false);\n            setEditingClient(null);\n          }}\n        />\n      )}\n\n      {/* Modal para gestionar destinatarios */}\n      {showRecipientsModal && selectedClient && (\n        <RecipientsModal\n          client={selectedClient}\n          onAdd={handleAddRecipient}\n          onRemove={handleRemoveRecipient}\n          onCancel={() => {\n            setShowRecipientsModal(false);\n            setSelectedClient(null);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\n// Componente modal para agregar/editar clientes\ninterface ClientModalProps {\n  client?: Client | null;\n  onSave: (clientData: any) => void;\n  onCancel: () => void;\n}\n\nconst ClientModal: React.FC<ClientModalProps> = ({ client, onSave, onCancel }) => {\n  const [formData, setFormData] = useState({\n    _id: client?._id || '',\n    name: client?.name || '',\n    address: client?.address || '',\n    department: client?.department || '',\n    phone: client?.phone || '',\n    email: client?.email || ''\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (client) {\n      // Editing existing client - include _id\n      onSave(formData);\n    } else {\n      // Creating new client - exclude _id\n      const { _id, ...createData } = formData;\n      onSave(createData);\n    }\n  };\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <h3>{client ? 'Editar Cliente' : 'Agregar Cliente'}</h3>\n          <button className=\"modal-close\" onClick={onCancel}>√ó</button>\n        </div>\n        <form onSubmit={handleSubmit} className=\"client-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">Nombre *</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              value={formData.name}\n              onChange={(e) => setFormData({...formData, name: e.target.value})}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email *</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              value={formData.email}\n              onChange={(e) => setFormData({...formData, email: e.target.value})}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"phone\">Tel√©fono *</label>\n            <input\n              type=\"tel\"\n              id=\"phone\"\n              value={formData.phone}\n              onChange={(e) => setFormData({...formData, phone: e.target.value})}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"department\">Departamento *</label>\n            <input\n              type=\"text\"\n              id=\"department\"\n              value={formData.department}\n              onChange={(e) => setFormData({...formData, department: e.target.value})}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"address\">Direcci√≥n *</label>\n            <textarea\n              id=\"address\"\n              value={formData.address}\n              onChange={(e) => setFormData({...formData, address: e.target.value})}\n              required\n              rows={3}\n            />\n          </div>\n          <div className=\"modal-actions\">\n            <button type=\"button\" className=\"btn-secondary\" onClick={onCancel}>\n              Cancelar\n            </button>\n            <button type=\"submit\" className=\"btn-primary\">\n              {client ? 'Actualizar' : 'Crear'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// Componente modal para gestionar destinatarios\ninterface RecipientsModalProps {\n  client: Client;\n  onAdd: (recipientData: CreateRecipientData) => void;\n  onRemove: (recipientId: string) => void;\n  onCancel: () => void;\n}\n\nconst RecipientsModal: React.FC<RecipientsModalProps> = ({ client, onAdd, onRemove, onCancel }) => {\n  const [showAddRecipient, setShowAddRecipient] = useState(false);\n  const [recipientForm, setRecipientForm] = useState({\n    name: '',\n    phone: '',\n    address: '',\n    bankCardNumber: ''\n  });\n\n  const handleAddRecipient = (e: React.FormEvent) => {\n    e.preventDefault();\n    onAdd(recipientForm);\n    setRecipientForm({ name: '', phone: '', address: '', bankCardNumber: '' });\n    setShowAddRecipient(false);\n  };\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal-content large\">\n        <div className=\"modal-header\">\n          <h3>Destinatarios de {client.name}</h3>\n          <button className=\"modal-close\" onClick={onCancel}>√ó</button>\n        </div>\n        <div className=\"recipients-modal-content\">\n          <div className=\"recipients-header\">\n            <h4>Destinatarios ({client.recipients.length})</h4>\n            <button\n              className=\"btn-primary small\"\n              onClick={() => setShowAddRecipient(true)}\n            >\n              + Agregar Destinatario\n            </button>\n          </div>\n          \n          <div className=\"recipients-list\">\n            {client.recipients.map(recipient => (\n              <div key={recipient._id} className=\"recipient-item\">\n                <div className=\"recipient-info\">\n                  <span className=\"recipient-name\">{recipient.name}</span>\n                  <span className=\"recipient-phone\">{recipient.phone}</span>\n                  <span className=\"recipient-address\">{recipient.address}</span>\n                  {recipient.bankCardNumber && (\n                    <span className=\"recipient-card\">Tarjeta: {recipient.bankCardNumber}</span>\n                  )}\n                </div>\n                <button\n                  className=\"btn-danger small\"\n                  onClick={() => onRemove(recipient._id!)}\n                  title=\"Eliminar destinatario\"\n                >\n                  Eliminar\n                </button>\n              </div>\n            ))}\n            {client.recipients.length === 0 && (\n              <p className=\"no-recipients\">No hay destinatarios registrados</p>\n            )}\n          </div>\n\n          {showAddRecipient && (\n            <div className=\"add-recipient-form\">\n              <h5>Agregar Destinatario</h5>\n              <form onSubmit={handleAddRecipient}>\n                <div className=\"form-group\">\n                  <label htmlFor=\"recipientName\">Nombre *</label>\n                  <input\n                    type=\"text\"\n                    id=\"recipientName\"\n                    value={recipientForm.name}\n                    onChange={(e) => setRecipientForm({...recipientForm, name: e.target.value})}\n                    required\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"recipientPhone\">Tel√©fono *</label>\n                  <input\n                    type=\"tel\"\n                    id=\"recipientPhone\"\n                    value={recipientForm.phone}\n                    onChange={(e) => setRecipientForm({...recipientForm, phone: e.target.value})}\n                    required\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"recipientAddress\">Direcci√≥n *</label>\n                  <textarea\n                    id=\"recipientAddress\"\n                    value={recipientForm.address}\n                    onChange={(e) => setRecipientForm({...recipientForm, address: e.target.value})}\n                    required\n                    rows={2}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"recipientCard\">N√∫mero de Tarjeta (opcional)</label>\n                  <input\n                    type=\"text\"\n                    id=\"recipientCard\"\n                    value={recipientForm.bankCardNumber}\n                    onChange={(e) => setRecipientForm({...recipientForm, bankCardNumber: e.target.value})}\n                  />\n                </div>\n                <div className=\"form-actions\">\n                  <button type=\"button\" className=\"btn-secondary\" onClick={() => setShowAddRecipient(false)}>\n                    Cancelar\n                  </button>\n                  <button type=\"submit\" className=\"btn-primary\">\n                    Agregar\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n        </div>\n        <div className=\"modal-actions\">\n          <button type=\"button\" className=\"btn-secondary\" onClick={onCancel}>\n            Cerrar\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ClientManagement; "],"names":["ClientModal","_ref","client","onSave","onCancel","formData","setFormData","useState","_id","name","address","department","phone","email","_jsx","className","children","_jsxs","onClick","onSubmit","e","preventDefault","createData","htmlFor","type","id","value","onChange","target","required","rows","RecipientsModal","_ref2","onAdd","onRemove","showAddRecipient","setShowAddRecipient","recipientForm","setRecipientForm","bankCardNumber","recipients","length","map","recipient","title","ClientManagement","clients","setClients","isLoading","setIsLoading","error","setError","showAddClient","setShowAddClient","editingClient","setEditingClient","showRecipientsModal","setShowRecipientsModal","selectedClient","setSelectedClient","searchTerm","setSearchTerm","filterDepartment","setFilterDepartment","useEffect","loadClients","async","clientsData","clientService","getAllClients","console","filteredClients","filter","matchesSearch","toLowerCase","includes","matchesDepartment","placeholder","getUniqueDepartments","departments","Array","from","Set","sort","dept","charAt","dateString","createdAt","Date","toLocaleDateString","year","month","day","message","openRecipientsModal","handleEditClient","window","confirm","deleteClient","clientId","handleDeleteClient","updateData","updatedClient","updatedClientData","updateClient","newClient","createClient","clientData","addRecipient","recipientData","c","removeRecipient","recipientId"],"sourceRoot":""}